var Ce=Object.defineProperty,Te=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var le=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ce=(e,r,t)=>r in e?Ce(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,T=(e,r)=>{for(var t in r||(r={}))le.call(r,t)&&ce(e,t,r[t]);if(ee)for(var t of ee(r))de.call(r,t)&&ce(e,t,r[t]);return e},N=(e,r)=>Te(e,ve(r));var ue=(e,r)=>{var t={};for(var i in e)le.call(e,i)&&r.indexOf(i)<0&&(t[i]=e[i]);if(e!=null&&ee)for(var i of ee(e))r.indexOf(i)<0&&de.call(e,i)&&(t[i]=e[i]);return t};import{u as V,j as l,B as a,a as n,T as C,L as q,I as ae,b as E,H as $,C as we,g as Ee,r as m,c as J,d as ie,R as se,F as B,M as ge,e as M,f as z,h as Y,S as te,i as Ie,k as ke,l as Se,m as O,n as Pe,O as Ne,o as Re,p as Le,q as Ae,s as De,t as j,v as _e}from"./vendor.a8c4e021.js";const Fe=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}};Fe();const Ue="_container_1pb45_1";var Oe={container:Ue};const Be=()=>{const{oktaAuth:e,authState:r}=V(),t=async()=>{await e.signOut()};return l(a,{className:Oe.container,display:"flex",width:"full",backgroundColor:"disabled",justifyContent:"space-between",alignItems:"center",children:[n(a,{padding:"m",children:n(C,{as:"strong",children:"Okta Sample"})}),l(a,{display:"flex",alignItems:"center",padding:"m",children:[n(a,{marginLeft:"s",children:l(q,{children:["Docs ",n(ae,{name:"external-link"})]})}),(r==null?void 0:r.isAuthenticated)&&n(a,{marginLeft:"s",children:n(E,{variant:"secondary",onClick:t,children:"Sign Out"})})]})]})},Ve="_container_1sm6c_1";var he={container:Ve};const oe=o=>{var s=o,{heading:e,icon:r,renderInfo:t}=s,i=ue(s,["heading","icon","renderInfo"]);return l(a,N(T({className:he.container,display:"flex",paddings:"s",flexDirection:"column",borderRadius:"base",padding:"m"},i),{children:[l($,{level:"1",children:[n(ae,{name:r}),e]}),n(a,{className:he.infoContainer,children:t()})]}))},Q=()=>n(a,{display:"flex",alignItems:"center",justifyContent:"center",children:n(we,{"aria-label":"Loader","aria-valuetext":"Loading..."})}),_=(e,r)=>`/myaccount${r}`,R=async(e,r)=>{const t=c=>{const u=Object.entries(c._links).reduce((p,[y,b])=>(y==="self"&&b.hints?b.hints.allow.forEach(I=>{p[I.toLowerCase()]=async k=>R(e,T({url:b.href.replace(e.options.issuer,"/myaccount"),method:I},k))}):p[y]=async I=>R(e,T({url:b.href.replace(e.options.issuer,"/myaccount"),method:b.hints.allow[0]},I)),p),c);return delete u._links,u},{url:i,method:o,data:s}=r;return e.invokeApiMethod({headers:{Accept:"*/*;okta-version=1.0.0"},url:i,method:o,args:s}).then(c=>{let u;return Array.isArray(c)?(u=c.map(p=>t(p)),u.headers=c.headers):c&&(c=t(c)),c})},$e=async e=>R(e,{url:_(e,"/idp/myaccount/profile"),method:"GET"}),je=async(e,r)=>R(e,{url:_(e,"/idp/myaccount/profile"),method:"PUT",data:{profile:r}}),Me=async e=>R(e,{url:_(e,"/idp/myaccount/emails"),method:"GET"}),pe=async(e,r)=>R(e,{url:_(e,"/idp/myaccount/emails"),method:"POST",data:T({state:Ee()},r)}),qe=async(e,r)=>R(e,{url:_(e,`/idp/myaccount/emails/${r}`),method:"DELETE"}),He=async e=>R(e,{url:_(e,"/idp/myaccount/phones"),method:"GET"}),Ge=async(e,r)=>R(e,{url:_(e,"/idp/myaccount/phones"),method:"POST",data:{profile:{phoneNumber:r},sendCode:!0,method:"SMS"}}),Ye=async(e,r)=>R(e,{url:_(e,`/idp/myaccount/phones/${r}`),method:"DELETE"}),We=()=>{const{oktaAuth:e}=V(),[r,t]=m.exports.useState(null),[i,o]=m.exports.useState([{label:"Given name",name:"firstName",type:"text",value:""},{label:"Family name",name:"lastName",type:"text",value:""},{label:"Age",name:"age",type:"number",value:""}]),[s,c]=m.exports.useState(!1),[u,p]=m.exports.useState(!1),[y,b]=m.exports.useState(null);m.exports.useEffect(()=>{s||$e(e).then(({profile:f})=>{t(f)}).catch(f=>{console.error(f),b(f)})},[e,y,s]);const I=()=>{const f=i.map(h=>N(T({},h),{value:r[h.name]}));o(f),c(!0),p(!1),b(null)},k=()=>{const f=i.map(h=>N(T({},h),{value:""}));o(f),c(!1)},L=async()=>{const f=i.reduce((h,x)=>{if(x.type==="number"){const w=Number(x.value);Number.isNaN(w)?h[x.name]=x.value:h[x.name]=w}else h[x.name]=x.value;return h},r);try{const h=await je(e,f);t(h.profile),p(!0)}catch(h){console.log(h),b(h)}k()},d=({target:{name:f,value:h}})=>{const x=i.map(w=>(w.name===f&&(w.value=h),w));o(x)};return r?l(a,{padding:"m",children:[l(a,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"s",marginBottom:"s",children:[l($,{level:"1",children:[n(ae,{name:"user"}),"Your Profile"]}),s?l(a,{display:"flex",alignItems:"center",children:[n(E,{variant:"clear",onClick:k,children:"Cancel"}),n(E,{name:"saveProfile",onClick:L,children:"Save"})]}):n(E,{name:"editProfile",variant:"secondary",onClick:I,children:"Edit"})]}),!!(u||y)&&l(a,{id:"profile-messages-container",marginTop:"s",marginBottom:"s",children:[u&&n(J,{variant:"success",content:"The profile was updated successfully"}),!!y&&y.errorCauses.map(f=>n(J,{variant:"danger",content:f.errorSummary},f.errorSummary))]}),l(a,{display:"flex",className:"pure-g",children:[n(a,{className:"pure-u-1 pure-u-sm-1-2",paddingRight:"s",children:i.map(({label:f,name:h,value:x})=>n(a,{paddingBottom:"s",children:n(ie,{disabled:!s,label:f,name:h,value:s?x:r[h],onChange:d})},h))}),n(a,{className:"pure-u-1 pure-u-sm-1-2",children:n(oe,{id:"profile-tip",heading:"Tip",icon:"information-circle-filled",renderInfo:()=>n(C,{as:"p",children:"The profile attributes in this example are driven by the Profile Enrollment policy."})})})]})]}):n(Q,{})},Ke="_container_1ej3r_1";var Je={container:Ke};const ye=e=>n(a,{className:Je.container,children:n(q,T({},e))}),xe=se.createContext({}),F=()=>se.useContext(xe),W=({heading:e,initInputLabel:r,selectorHint:t,autoStartTransaction:i,onStartTransaction:o,onFinishTransaction:s,children:c})=>{var G;const{myAccountTransaction:u,setMyAccountTransaction:p}=F(),[y,b]=m.exports.useState(r),[I,k]=m.exports.useState(t),[L,d]=m.exports.useState(e),[f,h]=m.exports.useState(!1),[x,w]=m.exports.useState(""),[H,D]=m.exports.useState(null),P=m.exports.useCallback(()=>{w(""),p(null),D(null),h(!1),s()},[w,D,h,p,s]);m.exports.useEffect(()=>{(u==null?void 0:u.status)==="VERIFIED"&&P(),(u==null?void 0:u.status)==="UNVERIFIED"&&(d("Enter Code"),b("Verification Code"),k("verificationCode"))},[u,P]);const X=async()=>{if(i)try{const v=await o();p(v)}catch(v){D(v)}h(!0)},Z=(v,A)=>{w(A)},g=async v=>{v.preventDefault(),P()},S=async v=>{v.preventDefault();const A=await u.challenge({data:{method:"SMS"}});p(A)},U=async v=>{v.preventDefault();let A;try{if(!u)A=await o(x);else if(u.status==="UNVERIFIED"){const ne={verificationCode:x};A=await u.verify({data:ne}),P()}A&&p(A),w(""),D(null)}catch(ne){D(ne)}};return l(B,{children:[f&&n(ge,{id:`${t}-modal`,open:f,onClose:P,children:n(a,{paddingBottom:"s",children:l(M,{onSubmit:U,children:[n($,{id:"form-title",level:"1",visualLevel:"3",children:L}),!!H&&n(a,{id:`${t}-messages-container`,paddingTop:"m",paddingBottom:"m",children:H&&n(J,{variant:"danger",content:(G=H.errorCauses)==null?void 0:G.map(({errorSummary:v})=>n(C,{children:v},v))})}),l(M.Main,{children:[n(ie,{type:"text",name:I,label:y,value:x,onChange:Z}),!!(u==null?void 0:u.challenge)&&l(a,{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",padding:"s",children:[n(C,{children:"Not receive the code?"}),n(E,{variant:"clear",name:"resend",onClick:S,children:"Resend"})]})]}),l(M.Actions,{children:[n(E,{variant:"clear",name:"cancel",onClick:g,children:"Cancel"}),n(E,{type:"submit",children:"Continue"})]})]})})}),n(a,{children:n(ye,{name:t,onClick:X,children:c})})]})},me=({selectorHint:e,heading:r,description:t,onStartTransaction:i,onFinishTransaction:o,children:s})=>{const[c,u]=m.exports.useState(!1),p=()=>{u(!0)},y=()=>{u(!1)},b=async()=>{await i(),o(),u(!1)};return l(B,{children:[n(ge,{id:`${e}-modal`,open:c,onClose:y,children:l(a,{display:"flex",flexDirection:"column",padding:"m",children:[n($,{children:r}),n(C,{as:"p",children:t}),l(a,{display:"flex",justifyContent:"flex-end",children:[n(E,{name:"cancel",variant:"clear",onClick:y,children:"Cancel"}),n(E,{name:"remove",variant:"danger",onClick:b,children:"Remove"})]})]})}),n(ye,{name:e,onClick:p,children:s})]})};function be(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Qe(e){return{ERROR:"danger"}[e]}const ze=()=>{const{oktaAuth:e}=V(),[r,t]=m.exports.useState(),[i,o]=m.exports.useState();m.exports.useEffect(()=>{r||(async()=>{const f=await Me(e);t(f.map(h=>(h.roles.includes("PRIMARY")?(h.label="Primary email",h.selectorId="primary-email"):(h.label="Secondary email",h.selectorId="secondary-email"),h.selectorId=h.label.split(" ").map(x=>x.toLowerCase()).join("-"),h.selectorHint=h.label.split(" ").map(be).join(""),h)))})()},[e,r]),m.exports.useEffect(()=>{i||(async()=>{const f=await He(e);o(f)})()},[e,i]);const s=()=>{t(null)},c=()=>{o(null)},u=async(d,f)=>pe(e,{profile:{email:f},sendEmail:!0,role:d.roles[0]}),p=async d=>pe(e,{profile:{email:d},sendEmail:!0,role:"SECONDARY"}),y=async d=>{await qe(e,d)},b=async d=>Ge(e,d),I=async d=>{await Ye(e,d)},k=async d=>d.challenge(),L=async d=>(await d.challenge({data:{method:"SMS"}}),d);return l(a,{display:"flex",className:"pure-g",padding:"m",children:[l(a,{className:"pure-u-1 pure-u-sm-1-2",paddingRight:"s",display:"flex",flexDirection:"column",marginTop:"s",children:[r?l(a,{children:[r.map(d=>l(a,{display:"flex",flexDirection:"column",paddingBottom:"s",children:[l(a,{display:"flex",alignItems:"center",justifyContent:"flex-start",children:[n(C,{as:"strong",children:d.label}),d.status==="VERIFIED"?n(a,{marginLeft:"s",children:n(W,{heading:`Edit ${d.label}`,initInputLabel:"Email",selectorHint:`edit${d.selectorHint}`,onStartTransaction:u.bind(null,d),onFinishTransaction:s,children:"Edit"})}):l(B,{children:[n(a,{marginLeft:"s",children:n(W,{heading:"Verify Email",initInputLabel:"Verification Code",selectorHint:`verify${d.selectorHint}`,autoStartTransaction:!0,onStartTransaction:k.bind(null,d),onFinishTransaction:s,children:"Verify"})}),n(a,{marginLeft:"s",children:n(me,{heading:"Are you sure you want to remove this email?",description:d.profile.email,onStartTransaction:y.bind(null,d.id),onFinishTransaction:s,children:"Remove"})})]})]}),n(a,{paddingTop:"s",children:n(C,{id:d.selectorId,children:d.profile.email})})]},d.id)),!r.some(d=>d.roles.includes("SECONDARY"))&&n(W,{heading:"Add secondary email",initInputLabel:"Email",selectorHint:"addSecondaryEmail",onStartTransaction:p,onFinishTransaction:s,children:"Add Secondary Email"})]}):n(Q,{}),l(a,{id:"phone-section",children:[n(C,{as:"strong",children:"Phone number"}),i?i.map(d=>l(a,{display:"flex",alignItems:"center",paddingTop:"s",children:[n(a,{className:"phone-number",children:n(C,{children:d.profile.phoneNumber})}),d.status==="UNVERIFIED"&&n(a,{marginLeft:"s",children:n(W,{heading:"Verify Phone Number",initInputLabel:"Verification Code",autoStartTransaction:!0,onStartTransaction:L.bind(null,d),onFinishTransaction:c,children:"Verify"})}),n(a,{marginLeft:"s",children:n(me,{selectorHint:"removePhoneNumber",heading:"Are you sure you want to remove this phone number?",description:d.profile.phoneNumber,onStartTransaction:I.bind(null,d.id),onFinishTransaction:c,children:"Remove"})})]},d.id)):n(Q,{}),n(a,{paddingTop:"s",paddingBottom:"s",children:n(W,{heading:"Add Phone Number",initInputLabel:"Phone Number",selectorHint:"addPhoneNumber",onStartTransaction:b,onFinishTransaction:c,children:"Add phone number"})})]})]}),n(a,{className:"pure-u-1 pure-u-sm-1-2",marginTop:"s",children:n(oe,{id:"identifiers-tip",heading:"Tip",icon:"information-circle-filled",renderInfo:()=>n(C,{as:"p",children:"User identifiers are separated because changes require verification."})})})]})},Xe=()=>l(a,{id:"profile-table",padding:"s",borderColor:"display",borderRadius:"base",children:[n(We,{}),n(a,{borderColor:"display"}),n(ze,{})]}),Ze="_homePageContainer_203dc_1";var fe={homePageContainer:Ze};function en(){const e=z(),{oktaAuth:r,authState:t}=V(),[i,o]=m.exports.useState(null);m.exports.useEffect(()=>{(t==null?void 0:t.isAuthenticated)?r.getUser().then(c=>{o(c)}).catch(c=>{console.error(c)}):o(null)},[t,r]);const s=c=>async()=>{e.replace(`/flow/${c}`)};return l(B,{children:[n(Be,{}),l(a,{className:fe.homePageContainer,margin:"l",display:"flex",flexDirection:"column",children:[l($,{level:"1",children:["Welcome ",i&&i.name]}),(t==null?void 0:t.isAuthenticated)&&n(J,{id:"sign-in-info-box",heading:"You're signed in",variant:"success"}),l(a,{display:"flex",className:"pure-g",children:[l(a,{paddingRight:"s",className:"pure-u-1 pure-u-md-1-2",children:[n(oe,{heading:"OAuth",icon:"settings",renderInfo:()=>l(B,{children:[!(t==null?void 0:t.isAuthenticated)&&n(C,{className:fe.noToken,children:"No tokens yet"}),(t==null?void 0:t.idToken)&&l(C,{as:"p",children:["Id Token: ",t.idToken.idToken]}),(t==null?void 0:t.accessToken)&&l(C,{as:"p",children:["Access Token: ",t.accessToken.accessToken]}),(t==null?void 0:t.refreshToken)&&l(C,{as:"p",children:["Refresh Token: ",t.refreshToken.refreshToken]})]})}),l(a,{margin:"s",children:[n(C,{as:"p",children:"Congrats on starting this sample application! This sample will demostrate how to build views that facilitate some common authentication flows:"}),l(Y,{children:[n(Y.Item,{children:"Sign In"}),n(Y.Item,{children:"Sign Up"}),n(Y.Item,{children:"Password Recovery"}),n(Y.Item,{children:"Logout"})]}),n(C,{as:"p",children:"To learn more about enabling advanced authentication use cases in this application, check out our guide."})]}),!(t==null?void 0:t.isAuthenticated)&&l(a,{marginTop:"s",children:[n(C,{children:"Give it a try:"}),l(a,{display:"flex",margin:"s",children:[n(E,{name:"signin",variant:"primary",onClick:s("authenticate"),children:"Sign In"}),n(E,{name:"signup",variant:"secondary",onClick:s("register"),children:"Sign Up"})]})]})]}),(t==null?void 0:t.isAuthenticated)&&n(a,{paddingLeft:"s",className:"pure-u-1 pure-u-md-1-2",children:n(Xe,{})})]})]})]})}function nn(){const{transaction:{error:e}}=F();return n("div",{children:e.message||JSON.stringify(e,null,4)})}function tn(){const e=z(),{setTransaction:r}=F();return l(B,{children:[n($,{level:"1",children:"Transaction has been canceled!"}),n(E,{onClick:()=>{r(null),e.replace("/")},children:"Restart"})]})}function rn(){const{transaction:e}=F(),r=e?e.messages:"Transaction could not be loaded";return l(B,{children:[n("div",{children:JSON.stringify(r,null,4)}),n("a",{href:"/",children:"Back to Signin"})]})}const an=(...e)=>r=>e.reduceRight((t,i)=>i(t),r),sn=e=>r=>{var i;const t=(i=e.inputs)==null?void 0:i.filter(o=>!!o.label);return(t==null?void 0:t.length)?N(T({},r),{inputs:t.map(({label:o,name:s,type:c,secret:u,required:p})=>(u?c="password":c==="string"?c="text":c==="boolean"&&(c="checkbox"),{label:o,name:s,type:c,required:p}))}):r},on=e=>r=>{const{inputs:t,options:i}=e;return i?N(T({},r),{select:{name:t[0].name,options:i.map(({label:o,value:s})=>({key:s,value:s,label:o}))}}):r},cn=e=>r=>{const{authenticator:{contextualData:{questionKeys:t,questions:i,enrolledQuestion:o}={}}={}}=e;return o?N(T({},r),{text:{value:o.question}}):i&&t?N(T({},r),{select:{label:"Choose a security question",name:"questionKey",options:i.map(({questionKey:s,question:c})=>({key:s,label:c,value:c}))}}):r},ln=e=>r=>{const{authenticator:{contextualData:{qrcode:t,sharedSecret:i}={}}={}}=e;return!t&&!i?r:N(T({},r),{text:{value:i},image:{src:t.href}})},dn=e=>an(ln(e),cn(e),on(e),sn(e)),un=()=>{const{oktaAuth:e}=V(),{transaction:r,setTransaction:t}=F(),[i,o]=m.exports.useState({}),[s,c]=m.exports.useState(!1),u=({target:{name:g,value:S,checked:U}})=>o(N(T({},i),{[g]:S||U})),p=async g=>{g.preventDefault(),c(!0);const S=await e.idx.proceed(i);t(S),o({}),c(!1)},y=async()=>{const g=await e.idx.proceed({skip:!0});t(g)},b=async g=>{g.preventDefault(),c(!0);const S=await e.idx.recoverPassword();t(S),c(!1)};if(!r||!r.nextStep)return n(Q,{});const{nextStep:I,messages:k,actions:L,availableSteps:d}=r,{name:f,canSkip:h}=I,x=!!(L==null?void 0:L["currentAuthenticator-recover"]),w=d.filter(g=>g.name==="redirect-idp"),H=dn(I)({}),{inputs:D,select:P,text:X,image:Z}=H;return n(a,{padding:"m",children:l(M,{onSubmit:p,children:[n($,{id:"page-title-header",level:"1",visualLevel:"4",children:f.split("-").map(g=>be(g)).join(" ")}),n(M.Error,{children:n(a,{id:"form-messages",children:k&&k.map(g=>n(J,{variant:Qe(g.class),content:g.message},g.message))})}),l(M.Main,{children:[X&&n("div",{children:X.value}),Z&&n("img",{src:Z.src}),P&&l(te,{label:P.label,name:P.name,onChange:u,children:[n(te.Option,{value:"",children:"---"},""),P.options.map(({key:g,label:S})=>n(te.Option,{value:g,children:S},g))]}),D&&D.map(g=>{const{label:S,name:U,type:G,required:v}=g;return n(G==="checkbox"?Ie:ie,{name:U,label:S,type:G,value:i[U]||"",required:v,onChange:u},U)})]}),l(a,{display:"flex",flexDirection:"column",children:[h&&n(E,{variant:"secondary",type:"button",onClick:y,children:"Skip"}),n(a,{paddingTop:"s",paddingBottom:"s",children:n(E,{wide:!0,type:"submit",disabled:s,children:"Submit"})}),x&&n(a,{paddingTop:"s",paddingBottom:"s",children:n(q,{href:"#",name:"forgotPassword",onClick:b,children:"Forgot password"})}),w.length>0&&l(a,{children:[n(a,{borderColor:"display",marginTop:"s",marginBottom:"s"}),w.map(g=>n(a,{paddingTop:"s",children:n(q,{variant:"dismiss",href:g.href,children:g.idp.name})},g.idp.id))]})]})]})})},hn=()=>{const{transaction:{availableSteps:e}}=F(),r=e==null?void 0:e.find(t=>t.name==="redirect-idp");return l(a,{children:[l(a,{children:["Type: ",r.type]}),n(q,{href:r.href,children:"Login With Google"})]})},pn="_container_50bsp_1",mn="_nav_50bsp_5",fn="_formContainer_50bsp_9";var re={container:pn,nav:mn,formContainer:fn};const gn=()=>{const{flow:e}=ke(),r=z(),{oktaAuth:t}=V(),{transaction:i,setTransaction:o}=F(),s=m.exports.useCallback(async()=>{const y=e==="idp"?await t.idx.startTransaction():await t.idx[e]();o(y)},[t,e,o]);m.exports.useEffect(()=>{e&&!i&&s()},[e,i,s]);const c=async()=>{await t.idx.cancel(),o(null),r.replace("/")},p=(()=>e==="idp"?hn:un)();return l(a,{className:re.container,display:"flex",flexDirection:"column",justifyContent:"flex-start",backgroundColor:"disabled",children:[n(a,{className:re.nav,display:"flex",alignItems:"center",children:n(a,{padding:"m",children:n(q,{onClick:c,children:"Home"})})}),n(a,{display:"flex",justifyContent:"center",children:n(a,{className:re.formContainer,backgroundColor:"default",children:n(p,{})})})]})},yn=()=>{const e=z(),{setTransaction:r}=F(),{oktaAuth:t}=V();return m.exports.useEffect(()=>{const i=async()=>{try{await t.idx.handleInteractionCodeRedirect(window.location.href),e.push("/")}catch(s){console.log(s)}};if(Se(window.location.search)){const s=new URL(window.location.href),c=new Error(`${s.searchParams.get("error")}: ${s.searchParams.get("error_description")}`);r({status:O.FAILURE,error:c});return}else if(t.isLoginRedirect())return i();const o=async()=>{try{const s=await t.idx.handleEmailVerifyCallback(window.location.search);r(s)}catch(s){r({status:O.FAILURE,error:s})}finally{e.push("/")}};if(t.idx.isEmailVerifyCallback(window.location.search))return o()},[t,e,r]),null},xn="0oa1leqqr3siAxMqB1d7",bn="https://jperreault-test.oktapreview.com/oauth2/default",Cn=`${window.location.origin}/login/callback`;var Tn={clientId:xn,issuer:bn,redirectUri:Cn,scopes:["openid","profile","email","offline_access","okta.myAccount.read","okta.myAccount.manage","okta.myAccount.email.manage","okta.myAccount.phone.manage"],pkce:!0};const K=(()=>{const{state:e,recoveryToken:r,issuer:t,clientId:i}=Pe(window.location.search);return new Ne(Object.assign({},Tn,T(T({state:e,recoveryToken:r},t&&{issuer:t}),i&&{clientId:i})))})(),vn=()=>{};function wn(){const e=z(),[r,t]=m.exports.useState(null),[i,o]=m.exports.useState(null),[s,c]=m.exports.useState(!1);return m.exports.useEffect(()=>{const{tokens:u,status:p,meta:y}=r||{};p===O.SUCCESS?(K.tokenManager.setTokens(u),e.replace("/"),t(null)):p===O.TERMINAL?(e.replace("/terminal"),t(null)):p===O.FAILURE?(e.replace("/error"),t(null)):p===O.CANCELED?(e.replace("/canceled"),t(null)):p===O.PENDING&&e.replace(`/flow/${y.flow}`)},[r,e]),m.exports.useEffect(()=>{const u=async()=>{c(!0);const p=await K.idx.proceed();t(p),c(!1)};!Le(window.location.href,K)&&K.idx.canProceed()&&u()},[]),s?n(Q,{}):n(Ae,{oktaAuth:K,onAuthRequired:()=>e.replace("/"),restoreOriginalUri:vn,children:n(xe.Provider,{value:{transaction:r,setTransaction:t,myAccountTransaction:i,setMyAccountTransaction:o},children:l(De,{children:[n(j,{path:"/",exact:!0,component:en}),n(j,{path:"/login/callback",component:yn}),n(j,{path:"/error",component:nn}),n(j,{path:"/terminal",component:rn}),n(j,{path:"/canceled",component:tn}),n(j,{path:"/flow/:flow",component:gn})]})})})}function En(){return n(Re,{children:n(wn,{})})}_e.render(n(se.StrictMode,{children:n(En,{})}),document.getElementById("root"));
//# sourceMappingURL=index.125c8306.js.map
